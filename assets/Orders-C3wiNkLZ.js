import{c as Ce,a as fe,j as s,r as P,n as Ie,V as Ae,s as Oe,i as Be,a5 as Ee,N as Me,B as be,b as Te,D as Le,T as $e}from"./index-CqXAftxc.js";import{u as pe,A as ze}from"./useFilters-B-9-NeIf.js";const De=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fe=Ce("funnel",De),Re=(e,t)=>{const r=fe.c(10);let c;e:switch(t){case"date-desc":{let l;r[0]!==e?(l=e.sort(qe),r[0]=e,r[1]=l):l=r[1],c=l;break e}case"date-asc":{let l;r[2]!==e?(l=e.sort(Qe),r[2]=e,r[3]=l):l=r[3],c=l;break e}case"budget-desc":{let l;r[4]!==e?(l=e.sort(Ue),r[4]=e,r[5]=l):l=r[5],c=l;break e}case"budget-asc":{let l;r[6]!==e?(l=e.sort(Ge),r[6]=e,r[7]=l):l=r[7],c=l;break e}case"responses-desc":{let l;r[8]!==e?(l=e.sort(Je),r[8]=e,r[9]=l):l=r[9],c=l;break e}default:c=e}return c};function qe(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}function Qe(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}function Ue(e,t){return t.budgetMax-e.budgetMax}function Ge(e,t){return e.budgetMin-t.budgetMin}function Je(e,t){return t.responsesCount-e.responsesCount}const He={new:{label:"ÐÐ¾Ð²Ñ‹Ð¹",color:"bg-green-100 text-green-700",icon:"ðŸ†•"},"in-progress":{label:"Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ",color:"bg-blue-100 text-blue-700",icon:"âš¡"},completed:{label:"Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½",color:"bg-gray-100 text-gray-700",icon:"âœ…"}},Ke=e=>{const t=fe.c(25),{sortBy:r,status:c}=e,{set:l,toggle:d,resetFilters:k}=pe();let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Fe,{size:20,className:"text-indigo-600"}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹"})]}),t[0]=m):m=t[0];let v;t[1]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ"}),t[1]=v):v=t[1];let h;t[2]!==c||t[3]!==d?(h=s.jsxs("div",{className:"mb-6",children:[v,s.jsx("div",{className:"space-y-2",children:Object.entries(He).map(S=>{const[_,u]=S;return s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c.includes(_),onChange:()=>d("status",_),className:"cursor-pointer w-4 h-4 text-indigo-600 rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:u.label})]},_)})})]}),t[2]=c,t[3]=d,t[4]=h):h=t[4];let a;t[5]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°"}),t[5]=a):a=t[5];let g;t[6]!==l?(g=S=>l("sortBy",S.target.value),t[6]=l,t[7]=g):g=t[7];let w,y,j,N,x;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("option",{value:"date-desc",children:"Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð½Ð¾Ð²Ñ‹Ðµ"}),j=s.jsx("option",{value:"date-asc",children:"Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° ÑÑ‚Ð°Ñ€Ñ‹Ðµ"}),N=s.jsx("option",{value:"budget-desc",children:"Ð”Ð¾Ñ€Ð¾Ð³Ð¸Ðµ Ð¿ÐµÑ€Ð²Ñ‹Ð¼Ð¸"}),x=s.jsx("option",{value:"budget-asc",children:"Ð”ÐµÑˆÐµÐ²Ñ‹Ðµ Ð¿ÐµÑ€Ð²Ñ‹Ð¼Ð¸"}),w=s.jsx("option",{value:"responses-desc",children:"ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ"}),t[8]=w,t[9]=y,t[10]=j,t[11]=N,t[12]=x):(w=t[8],y=t[9],j=t[10],N=t[11],x=t[12]);let b;t[13]!==r||t[14]!==g?(b=s.jsxs("div",{className:"mb-6",children:[a,s.jsxs("select",{value:r,onChange:g,className:"cursor-pointer w-full h-10 px-3 bg-white border border-gray-200 rounded-lg text-sm",children:[y,j,N,x,w]})]}),t[13]=r,t[14]=g,t[15]=b):b=t[15];let n;t[16]!==k?(n=s.jsx("button",{type:"button",onClick:k,className:"cursor-pointer w-full py-2 text-sm text-indigo-600 hover:text-indigo-700 font-semibold",children:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹"}),t[16]=k,t[17]=n):n=t[17];let p;t[18]!==b||t[19]!==n||t[20]!==h?(p=s.jsxs("div",{className:"bg-white/70 top-26 backdrop-blur-sm border border-gray-200 rounded-2xl p-6",children:[m,h,b,n]}),t[18]=b,t[19]=n,t[20]=h,t[21]=p):p=t[21];let V;t[22]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx("div",{className:"cursor-pointer w-full p-1 flex justify-center items-center bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg",onClick:Pe,children:s.jsx(ze,{size:30})}),t[22]=V):V=t[22];let i;return t[23]!==p?(i=s.jsx("aside",{className:"lg:col-span-3",children:s.jsxs("div",{className:"sticky top-24 flex flex-col gap-2",children:[p,V]})}),t[23]=p,t[24]=i):i=t[24],i};function Pe(){return window.scrollTo({top:0,behavior:"smooth"})}const Ve=()=>{try{const e=sessionStorage.getItem("orders-showing-count"),t=e?JSON.parse(e):20;return sessionStorage.removeItem("orders-showing-count"),t}catch(e){e instanceof Error&&console.error(e.message)}return 20},lt=()=>{const e=fe.c(93),[t,r]=P.useState(""),c=P.useRef(null),l=P.useRef(null),[d,k]=P.useState(Ve),{get:m,set:v}=pe();let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={queryKey:["orders"],queryFn:Me,staleTime:18e5},e[0]=h):h=e[0];const{data:a,isLoading:g,isError:w}=Ie(h);let y;e[1]!==m?(y=m("sortBy",We,"date-desc"),e[1]=m,e[2]=y):y=e[2];const j=y;let N;e[3]!==m?(N=m("status",Xe,[]),e[3]=m,e[4]=N):N=e[4];const x=N;let b;e[5]!==m?(b=m("category",String,"web-dev"),e[5]=m,e[6]=b):b=e[6];const n=b;let p;e:{if(!a||a.allIds.length===0){let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[7]=f):f=e[7],p=f;break e}let o;if(e[8]!==n||e[9]!==a.allIds||e[10]!==a.ordersById||e[11]!==t||e[12]!==x){let f;e[14]!==a.ordersById?(f=K=>a.ordersById[K],e[14]=a.ordersById,e[15]=f):f=e[15];let H;e[16]!==n||e[17]!==t||e[18]!==x?(H=K=>{const _e=K.title.toLowerCase().includes(t.toLowerCase())||K.description.toLowerCase().includes(t.toLowerCase()),Se=n==="all"||K.category===n,ke=x.length===0||x.includes(K.status);return _e&&Se&&ke},e[16]=n,e[17]=t,e[18]=x,e[19]=H):H=e[19],o=a.allIds.map(f).filter(H),e[8]=n,e[9]=a.allIds,e[10]=a.ordersById,e[11]=t,e[12]=x,e[13]=o}else o=e[13];p=o}const i=Re(p,j),S={total:i.length,avgBudget:Math.round(i.reduce(Ye,0)/i.length)||0,newOrders:i.filter(Ze).length};let _;e[20]!==d||e[21]!==i?(_=i.slice(0,d),e[20]=d,e[21]=i,e[22]=_):_=e[22];const u=_,C=u.length<i.length;let W;e[23]===Symbol.for("react.memo_cache_sentinel")?(W=()=>{k(et)},e[23]=W):W=e[23];const he=W;let X;e[24]!==C?(X=()=>{if(!(!C||!c.current))return l.current&&l.current.disconnect(),l.current=new IntersectionObserver(o=>{o.forEach(f=>{f.isIntersecting&&he()})},{rootMargin:"200px 0px"}),l.current.observe(c.current),()=>{l.current&&l.current.disconnect()}},e[24]=C,e[25]=X):X=e[25];let Y;e[26]!==C||e[27]!==d||e[28]!==u?(Y=[he,u,C,d],e[26]=C,e[27]=d,e[28]=u,e[29]=Y):Y=e[29],P.useEffect(X,Y);let Z,ee;e[30]!==d?(ee=()=>{sessionStorage.setItem("orders-showing-count",JSON.stringify(d))},Z=[d],e[30]=d,e[31]=Z,e[32]=ee):(Z=e[31],ee=e[32]),P.useEffect(ee,Z);const ye="min-h-screen",je="relative";let I;e[33]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-indigo-100 rounded-full blur-3xl opacity-40"}),s.jsx("div",{className:"absolute -bottom-32 -left-32 w-[28rem] h-[28rem] bg-violet-100 rounded-full blur-3xl opacity-40"})]}),e[33]=I):I=e[33];const Ne="relative pt-14 pb-10";let te,se,le;e[34]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full border border-indigo-100 text-sm font-medium text-indigo-600 mb-5",children:[s.jsx(be,{size:16,className:"text-indigo-500"}),"ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚"]}),se=s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold leading-tight text-gray-900 mb-4",children:"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð·Ð°ÐºÐ°Ð·Ñ‹"}),le=s.jsx("p",{className:"text-lg text-gray-600",children:"ÐžÑ‚ÐºÐ»Ð¸ÐºÐ°Ð¹Ñ‚ÐµÑÑŒ Ð½Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ Ð¸ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ð¹Ñ‚Ðµ Ð·Ð°Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ ÑƒÐ¶Ðµ ÑÐµÐ³Ð¾Ð´Ð½Ñ"}),e[34]=te,e[35]=se,e[36]=le):(te=e[34],se=e[35],le=e[36]);let re;e[37]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(Te,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e[37]=re):re=e[37];let ne;e[38]===Symbol.for("react.memo_cache_sentinel")?(ne=o=>r(o.target.value),e[38]=ne):ne=e[38];let A;e[39]!==t?(A=s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[te,se,le,s.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:s.jsxs("div",{className:"relative",children:[re,s.jsx("input",{type:"text",value:t,onChange:ne,placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð·Ð°ÐºÐ°Ð·Ð°Ð¼...",className:"w-full h-14 pl-12 pr-4 bg-white/70 backdrop-blur-sm border border-gray-200 rounded-xl outline-none focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all shadow-lg"})]})})]}),e[39]=t,e[40]=A):A=e[40];const ve="mt-10 grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto";let ie;e[41]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(be,{className:"mx-auto mb-2 text-indigo-500",size:32}),e[41]=ie):ie=e[41];const xe=g?s.jsx("div",{className:"animate-pulse flex justify-center items-center",children:s.jsx("div",{className:"h-9 bg-gray-200 rounded w-1/3"})}):s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:S.total});let oe;e[42]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx("div",{className:"text-sm text-gray-600",children:"Ð’ÑÐµÐ³Ð¾ Ð·Ð°ÐºÐ°Ð·Ð¾Ð²"}),e[42]=oe):oe=e[42];let O;e[43]!==xe?(O=s.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 text-center",children:[ie,xe,oe]}),e[43]=xe,e[44]=O):O=e[44];const we="bg-white/70 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 text-center";let B;e[45]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(Le,{className:"mx-auto mb-2 text-green-500",size:32}),e[45]=B):B=e[45];const ue=g?s.jsx("div",{className:"animate-pulse flex justify-center items-center",children:s.jsx("div",{className:"h-9 bg-gray-200 rounded w-1/3"})}):s.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[S.avgBudget.toLocaleString(),"â‚½"]});let ce;e[46]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx("div",{className:"text-sm text-gray-600",children:"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð±ÑŽÐ´Ð¶ÐµÑ‚"}),e[46]=ce):ce=e[46];let E;e[47]!==B||e[48]!==ue?(E=s.jsxs("div",{className:we,children:[B,ue,ce]}),e[47]=B,e[48]=ue,e[49]=E):E=e[49];let ae;e[50]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx($e,{className:"mx-auto mb-2 text-blue-500",size:32}),e[50]=ae):ae=e[50];const ge=g?s.jsx("div",{className:"animate-pulse flex justify-center items-center",children:s.jsx("div",{className:"h-9 bg-gray-200 rounded w-1/3"})}):s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:S.newOrders});let de;e[51]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx("div",{className:"text-sm text-gray-600",children:"ÐÐ¾Ð²Ñ‹Ñ… Ð·Ð°ÐºÐ°Ð·Ð¾Ð²"}),e[51]=de):de=e[51];let M;e[52]!==ge?(M=s.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 text-center",children:[ae,ge,de]}),e[52]=ge,e[53]=M):M=e[53];let T;e[54]!==O||e[55]!==E||e[56]!==M?(T=s.jsxs("div",{className:ve,children:[O,E,M]}),e[54]=O,e[55]=E,e[56]=M,e[57]=T):T=e[57];let L;e[58]!==n||e[59]!==v?(L=Ae.map(o=>s.jsx("button",{type:"button",onClick:()=>{v("category",o.id),k(20)},className:`cursor-pointer px-4 py-2 rounded-xl font-semibold text-sm transition-all ${n===o.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/25":"bg-white/70 backdrop-blur-sm border border-gray-200 text-gray-700 hover:border-indigo-200 hover:text-indigo-700"}`,children:o.name},o.id)),e[58]=n,e[59]=v,e[60]=L):L=e[60];let $;e[61]!==L?($=s.jsx("div",{className:"mt-8 flex flex-wrap justify-center gap-2",children:L}),e[61]=L,e[62]=$):$=e[62];let z;e[63]!==A||e[64]!==T||e[65]!==$?(z=s.jsxs("div",{className:Ne,children:[A,T,$]}),e[63]=A,e[64]=T,e[65]=$,e[66]=z):z=e[66];let D;e[67]!==I||e[68]!==z?(D=s.jsxs("section",{className:je,children:[I,z]}),e[67]=I,e[68]=z,e[69]=D):D=e[69];let F;e[70]!==j||e[71]!==x?(F=s.jsx(Ke,{sortBy:j,status:x}),e[70]=j,e[71]=x,e[72]=F):F=e[72];let R;e[73]!==u.length?(R=s.jsx("span",{className:"font-semibold text-gray-900",children:u.length}),e[73]=u.length,e[74]=R):R=e[74];let q;e[75]!==i.length?(q=s.jsx("span",{className:"font-semibold text-gray-900",children:i.length}),e[75]=i.length,e[76]=q):q=e[76];let Q;e[77]!==R||e[78]!==q?(Q=s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["ÐŸÐ¾ÐºÐ°Ð·Ð°Ð½Ð¾"," ",R," ","Ð¸Ð·"," ",q," ","Ð·Ð°ÐºÐ°Ð·Ð¾Ð²"]})}),e[77]=R,e[78]=q,e[79]=Q):Q=e[79];let U;e[80]!==w||e[81]!==g||e[82]!==u?(U=g?s.jsx(Oe,{}):w?s.jsx(Be,{}):s.jsx(s.Fragment,{children:u.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ð—Ð°ÐºÐ°Ð·Ñ‹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹"}),s.jsx("p",{className:"text-gray-600",children:"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð¸Ð»Ð¸ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ"})]}):s.jsx("div",{className:"space-y-4",children:u.map((o,f)=>{const H=f===u.length-1;return s.jsx(Ee,{order:o,ref:H?c:null},o.id)})})}),e[80]=w,e[81]=g,e[82]=u,e[83]=U):U=e[83];let G;e[84]!==Q||e[85]!==U?(G=s.jsxs("div",{className:"lg:col-span-9",children:[Q,U]}),e[84]=Q,e[85]=U,e[86]=G):G=e[86];let J;e[87]!==F||e[88]!==G?(J=s.jsx("section",{className:"py-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[F,G]})}),e[87]=F,e[88]=G,e[89]=J):J=e[89];let me;return e[90]!==D||e[91]!==J?(me=s.jsxs("div",{className:ye,children:[D,J]}),e[90]=D,e[91]=J,e[92]=me):me=e[92],me};function We(e){return e}function Xe(e){return e.split(",")}function Ye(e,t){return e+(t.budgetMin+t.budgetMax)/2}function Ze(e){return e.status==="new"}function et(e){return e+20}export{lt as default};
