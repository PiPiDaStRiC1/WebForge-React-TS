import { faker } from "@faker-js/faker";
import { freelancersById } from "./generateUsers.mjs";
import { orders } from "./generateOrders.mjs";
import fs from "fs";
import path from "path";
import { fileURLToPath } from "url";

const SEED = 12345;
const RESPONSES_COUNT = 3000;

faker.seed(SEED);

const RESPONSES_TEXTS = [
    "Здравствуйте! Готов взяться за выполнение вашего заказа.",
    "Добрый день! Ознакомился с задачей, могу приступить к работе.",
    "Здравствуйте! Есть опыт в подобных проектах.",
    "Готов помочь с реализацией вашего проекта.",
    "Добрый день! Интересна ваша задача, готов обсудить детали.",
    "Здравствуйте! Могу выполнить работу качественно и в срок.",
    "Готов приступить после согласования деталей.",
    "Добрый день! Проект понятен, вопросов нет.",
    "Здравствуйте! Есть релевантный опыт.",
    "Готов выполнить заказ аккуратно и без затягивания сроков.",

    "Добрый день! Работал с похожими задачами ранее.",
    "Здравствуйте! Буду рад сотрудничеству.",
    "Готов подключиться к проекту в ближайшее время.",
    "Добрый день! Есть свободное время под ваш проект.",
    "Здравствуйте! Понимаю требования задачи.",
    "Готов реализовать функционал согласно описанию.",
    "Добрый день! Интересный проект.",
    "Здравствуйте! Есть практический опыт.",
    "Готов выполнить работу и внести правки при необходимости.",
    "Добрый день! Могу предложить оптимальное решение.",

    "Здравствуйте! Готов обсудить сроки и формат работы.",
    "Добрый день! Есть опыт коммерческой разработки.",
    "Готов взяться за заказ.",
    "Здравствуйте! Работал с аналогичными проектами.",
    "Добрый день! Могу приступить сразу.",
    "Готов выполнить проект под ключ.",
    "Здравствуйте! Задача ясна.",
    "Добрый день! Открыт к обсуждению.",
    "Готов помочь с реализацией.",
    "Здравствуйте! Интересует ваш проект.",

    "Добрый день! Могу выполнить заказ в разумные сроки.",
    "Здравствуйте! Есть опыт и необходимые навыки.",
    "Готов реализовать проект качественно.",
    "Добрый день! Задача понятна.",
    "Здравствуйте! Буду рад поработать над проектом.",
    "Готов приступить к выполнению.",
    "Добрый день! Есть понимание, как лучше реализовать.",
    "Здравствуйте! Интересен формат сотрудничества.",
    "Готов выполнить работу ответственно.",
    "Добрый день! Есть опыт работы с подобным функционалом.",

    "Здравствуйте! Могу выполнить заказ без лишних правок.",
    "Добрый день! Рассмотрел описание проекта.",
    "Готов подключиться и выполнить задачу.",
    "Здравствуйте! Работаю аккуратно и внимательно.",
    "Добрый день! Есть опыт поддержки подобных решений.",
    "Готов реализовать задачу по ТЗ.",
    "Здравствуйте! Есть идеи по реализации.",
    "Добрый день! Готов обсудить детали.",
    "Готов выполнить заказ в оговоренные сроки.",
    "Здравствуйте! Есть свободные ресурсы.",

    "Добрый день! Интересен ваш проект.",
    "Здравствуйте! Могу приступить в ближайшее время.",
    "Готов выполнить проект качественно.",
    "Добрый день! Работал с похожими задачами.",
    "Здравствуйте! Понимаю, что требуется.",
    "Готов помочь с разработкой.",
    "Добрый день! Опыт позволяет выполнить задачу.",
    "Здравствуйте! Рассматриваю ваш заказ.",
    "Готов взяться за проект и довести до результата.",
    "Добрый день! Могу выполнить работу без задержек.",

    "Здравствуйте! Интересует сотрудничество.",
    "Добрый день! Есть практический опыт в этой области.",
    "Готов выполнить заказ и поддерживать проект.",
    "Здравствуйте! Могу предложить аккуратную реализацию.",
    "Добрый день! Есть опыт решения подобных задач.",
    "Готов приступить после уточнения деталей.",
    "Здравствуйте! Проект выглядит понятным.",
    "Добрый день! Открыт к диалогу.",
    "Готов реализовать проект согласно требованиям.",
    "Здравствуйте! Могу выполнить работу качественно.",

    "Добрый день! Есть опыт и время для выполнения.",
    "Здравствуйте! Буду рад сотрудничеству по проекту.",
    "Готов помочь с технической реализацией.",
    "Добрый день! Работал с аналогичными кейсами.",
    "Здравствуйте! Интересна задача.",
    "Готов выполнить заказ в срок.",
    "Добрый день! Могу предложить надежное решение.",
    "Здравствуйте! Есть релевантный опыт.",
    "Готов приступить в удобное для вас время.",
    "Добрый день! Рассматриваю ваш проект.",

    "Здравствуйте! Могу реализовать задачу под ключ.",
    "Добрый день! Проект понятен, готов работать.",
    "Готов помочь с разработкой и доработками.",
    "Здравствуйте! Опыт позволяет выполнить задачу.",
    "Добрый день! Есть понимание архитектуры.",
    "Готов выполнить проект аккуратно.",
    "Здравствуйте! Интересует выполнение заказа.",
    "Добрый день! Открыт к обсуждению условий.",
    "Готов взяться за задачу.",
    "Здравствуйте! Могу приступить к работе.",
];

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const generateOrderResponses = () => {
    return Object.fromEntries(
        Array.from({ length: RESPONSES_COUNT }, (_, i) => [
            i + 1000,
            {
                id: i + 1000,
                text: faker.helpers.arrayElement(RESPONSES_TEXTS),
                freelancerId: faker.helpers.arrayElement(Object.values(freelancersById)).id,
                orderId: faker.helpers.arrayElement(Object.values(orders)).id,
                createdAt: faker.date
                    .between({
                        from: new Date(faker.helpers.arrayElement(Object.values(orders)).createdAt),
                        to: new Date(),
                    })
                    .toISOString(),
            },
        ]),
    );
};

const responses = generateOrderResponses();
const outputPath = path.join(__dirname, "../src/lib/data/orderResponses.json");
fs.writeFileSync(
    outputPath,
    JSON.stringify(
        {
            responsesById: responses,
            allIds: Array.from({ length: RESPONSES_COUNT }, (_, i) => i + 1000),
        },
        null,
        2,
    ),
    "utf-8",
);
